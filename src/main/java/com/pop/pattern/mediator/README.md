#### 中介者模式（Mediator Pattern）

又称为**调节者模式**或者**调停者模式**，用一个中介对象封装的一系列对象交互，中介者使各对象不需要显示地交互作用，从而使其耦合松散，而且可以独立地改变他们之间交互。



核心：通过中介者解耦系统各层次对象的直接耦合，层次对象的对外依赖通信统统交由中介者转发

类似rpc框架，zk，分布式协调组件

![1596378361541](C:\Users\范凌轩\AppData\Roaming\Typora\typora-user-images\1596378361541.png)

注册中心算是比较典型的中介者模式，多个系统不互相持有应用

**属于行为型模式**



#### 中介者模式的使用场景

* 系统中对象之间存在复杂的引用关系，产生的相互依赖关系结构混乱且难以理解
* 交互的公共行为，如果需要改变行为则可以增加新的中介类。



#### 中介者模式和代理模式区别

代理模式是本身自己无法完成，所以需要找代理，帮你找到渠道，并帮你做了一些事情，剩下来一些需要你做。

中介者则只帮你联系到对方，剩下的则需要你自己做。

中介者是**不负责任的代理模式**，只帮你练习。

#### 门面模式和中介者模式

门面属于结构型模式，中介者属于行为模式

中介者模式是比较复杂的**桥接模式**，含有多路桥接，因为作为传话的桥接者，需要持有多个系统引用。



源码中的体现

Timer，本身他自己接受各种参数，TimeTask就是这模式下的同事类。



#### 中介者模式的优点

* 减少类间的依赖，将多对多的依赖转化为一对多，降低了类间的耦合
* 类间各司其职，符合迪米特法则

#### 中介者模式的缺点

中介者模式中将原本多个对象直接的互相依赖变成了中介者和多个同事类的依赖关系，当同时类越多时，中介者就会臃肿，变得复杂且难以维护